<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>Casual Encounters: The Game</title>
	<meta name="description" content="">
	<meta name="author" content="Team Casual">
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<link rel="shortcut icon" href="favicon.ico">
	<link rel="apple-touch-icon" href="apple-touch-icon.png">
	<link rel="stylesheet" href="css/style.css?v=2">
	<link rel="stylesheet" media="handheld" href="css/handheld.css?v=2">
	<link rel="stylesheet" type="text/css" href="css/custom-theme/jquery-ui-1.8.15.custom.css"  />	
	<link rel="stylesheet" type="text/css" href="css/game.css" />
	
	<script src="js/libs/modernizr-1.7.min.js"></script>
</head>
<body>

	<div id="container">
		<header>
		
		</header>

		<div id="main" role="main">
		
		</div>

		<footer>

		</footer>
	</div>

	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
	<script>!window.jQuery && document.write(unescape('%3Cscript src="js/libs/jquery-1.6.2.min.js"%3E%3C/script%3E'))</script>

	<script type="text/javascript" src="js/libs/jquery-ui-1.8.15.custom.min.js"></script>
	<script type="text/javascript" src="js/three.js/build/Three.js"></script>
	<script type="text/javascript" src="js/three.js/examples/js/Detector.js"></script> 
	<script type="text/javascript" src="js/three.js/examples/js/RequestAnimationFrame.js"></script> 
	<script type="text/javascript" src="js/three.js/examples/js/Stats.js"></script> 
	
    <script>
		if ( ! Detector.webgl ) Detector.addGetWebGLMessage();
		
		var statsEnabled = true;
		var camera, scene, renderer, stats, mesh;


		// Deal with some dom events
		$(window).resize( function() {  });
		$(window).keypress( function(e){ game.key_pressed(e); } );
		$(document).ready(function() {
			init();
			animate();
		});
		
		// --------------------------
		function init()
		{ 
			// Camera params : 
			// field of view, aspect ratio for render output, near and far clipping plane. 
			var w = $(window).width();
			var h = Math.max( $(document).height(), $(window).height() );
			
			camera = new THREE.Camera(35, w / h, .1, 10000 );
  			camera.position.set( 0, 0, 1 );
  			
			scene = new THREE.Scene();
			renderer = new THREE.WebGLRenderer();
			renderer.setSize( w, h );
			
			var light = new THREE.PointLight( 0xFFFF00 );
			light.position.set( 10, 0, 10 );
			scene.addLight( light );
			
			document.body.appendChild( renderer.domElement );
			
			if ( statsEnabled ) 
			{
				stats = new Stats();
				stats.domElement.style.position = 'absolute';
				stats.domElement.style.top = '0px';
				stats.domElement.style.zIndex = 100;
				container.appendChild( stats.domElement );
			}

			var x = 0;
			var y = 0;
			var z = 0;
			var width = 1;
			var height = 1;
    
			var url = "imgproxy.php?url=http://upload.wikimedia.org/wikipedia/commons/e/e9/Official_portrait_of_Barack_Obama.jpg";
			var material = new THREE.MeshBasicMaterial( { map: THREE.ImageUtils.loadTexture(url) } );
			var geometry = new THREE.PlaneGeometry(width, height, 10, 10);

			mesh = new THREE.Mesh( geometry, material );
			mesh.translateX( x );
			mesh.translateY( y );
			mesh.translateZ( z );
			scene.addObject( mesh );

    	

	/*
			var material2 = new THREE.LineBasicMaterial( { color: 0xFFFFFF } ) ;
			var geometry1 = new THREE.Geometry();   
			geometry1.vertices.push( new THREE.Vertex( new THREE.Vector3 (x,y,z) ) );
			geometry1.vertices.push( new THREE.Vertex( new THREE.Vector3 (x+width,y,z) ) ); 
			geometry1.vertices.push( new THREE.Vertex( new THREE.Vector3 (x+width,y+height,z) ) );  
			geometry1.vertices.push( new THREE.Vertex( new THREE.Vector3 (x,y+height,z) ) );  
			geometry1.vertices.push( new THREE.Vertex( new THREE.Vector3 (x,y,z) ) );         
	
			var line1 = new THREE.Line( geometry2, material2 );
			line1.translateX( x );
			line1.translateY( y );
			line1.translateZ( z );
			scene.addObject( line1 );	
	*/    

		}
		
		// --------------------------
		function animate() 
		{
			requestAnimationFrame( animate );
			render();
			if ( statsEnabled ) stats.update();
		}
 
 		// --------------------------
		function render() 
		{
			renderer.render( scene, camera );
		}
		
    </script>
	
	<!--[if lt IE 7 ]>
	<script src="js/libs/dd_belatedpng.js"></script>
	<script> DD_belatedPNG.fix('img, .png_bg');</script>
	<![endif]-->

	<script>
		var _gaq=[['_setAccount','UA-74771-20'],['_trackPageview']];
		(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.async=1;
		g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
		s.parentNode.insertBefore(g,s)}(document,'script'));
	</script>
</body>
</html>